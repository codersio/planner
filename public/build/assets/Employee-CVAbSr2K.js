import{r as a,j as e,a as h,b as C}from"./app-BOMB9RPx.js";import{H as E,N as L}from"./Nav-B4LcHgH8.js";import{C as S}from"./index-8CmWD7f4.js";import{R as P}from"./index-DPSeHmnf.js";import{N as A}from"./notyf.min-DLu_xjpT.js";import"./iconBase-CO2Y0hZ5.js";import"./index-DFW5HbVH.js";import"./index-rLyOIo_R.js";const F=new A,D=({user:p,employee:d,user_type:j,notif:u})=>{const[l,f]=a.useState(""),[c,N]=a.useState(d),[i,n]=a.useState(1),[o]=a.useState(10);a.useEffect(()=>{const t=d.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase())||s.roles.some(r=>r.name.toLowerCase().includes(l.toLowerCase()))||s.employees.some(r=>r.phone.toLowerCase().includes(l.toLowerCase())));N(t)},[l,d]);const y=t=>{f(t.target.value),n(1)},b=(t,s)=>{t.preventDefault(),confirm("Are you sure you want to delete this employee?")&&C.get(`/employees-destroy/${s}`).then(r=>{console.log(r),F.success("Employee deleted successfully")}).catch(r=>{console.log(r)})},m=i*o,g=m-o,x=c.slice(g,m),w=Math.ceil(c.length/o),v=Array.from({length:w},(t,s)=>s+1);return e.jsxs("div",{className:"w-[85.2%] absolute right-0 overflow-hidden",children:[e.jsx(E,{user:p,notif:u}),e.jsx(L,{user_type:j}),e.jsxs("div",{className:"px-8 py-4 table-section rounded-b-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-[40%]",children:e.jsx("input",{type:"text",value:l,onChange:y,placeholder:"Search employees...",className:"p-2 border rounded-md w-[80%]"})}),e.jsx("div",{className:"px-3",children:e.jsx(h,{href:"employees-create",className:"underline",children:"Create New Employee"})})]}),e.jsx("br",{}),e.jsxs("table",{className:"table w-full p-4 border",children:[e.jsx("thead",{className:"border bg-[#0A1B3F] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Employee ID"}),e.jsx("th",{className:"p-3 text-left border",children:"Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Email"}),e.jsx("th",{className:"p-3 text-left border",children:"Branch"}),e.jsx("th",{className:"p-3 text-left border",children:"Department"}),e.jsx("th",{className:"p-3 text-left border",children:"Phone"}),e.jsx("th",{className:"p-3 text-left border",children:"Action"})]})}),e.jsx("tbody",{children:x.length>0?x.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3 border",children:t.employees.map(s=>e.jsx("div",{children:s.employee_id},s.id))}),e.jsx("td",{className:"p-3 border",children:t.name}),e.jsx("td",{className:"p-3 border",children:t.email}),e.jsx("td",{className:"p-3 border",children:t.employees.map(s=>e.jsx("div",{children:s.branch_id},s.id))}),e.jsx("td",{className:"p-3 border",children:t.employees.map(s=>e.jsx("div",{children:s.department_id},s.id))}),e.jsx("td",{className:"p-3 border",children:t.employees.map(s=>e.jsx("div",{children:s.designation_id},s.id))}),e.jsx("td",{className:"border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(h,{className:"text-white text-[1.1rem] bg-[#0C7785] p-1 rounded-md",href:`employees-edit/${t.id}`,children:e.jsx(S,{})}),e.jsx("button",{className:"text-white text-[1.1rem] bg-[#FF3A6E] p-1 rounded-md",onClick:s=>b(s,t.id),children:e.jsx(P,{})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-3 text-center",children:"No employees found"})})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:v.map(t=>e.jsx("button",{onClick:()=>n(t),className:`px-4 py-2 mx-1 rounded ${i===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t},t))})]})]})};export{D as default};

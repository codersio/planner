import{j as e,a as g,r as a,q as y}from"./app-BOMB9RPx.js";import{G as x}from"./iconBase-CO2Y0hZ5.js";import{j as C,k as M,l as z,m as S,n as B,o as N,p as H}from"./index-DFW5HbVH.js";import{e as I,f as j}from"./index-rLyOIo_R.js";function D(s){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"},child:[]}]})(s)}function k(s){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.7 403c-6.1 0-11.4 4.2-12.7 10.2-1 4.5-2.7 8.2-5 10.9-1.3 1.5-5.1 5.9-16.1 5.9-11 0-14.8-4.5-16.1-5.9-2.3-2.7-4-6.4-5-10.9-1.3-6-6.6-10.2-12.7-10.2-8.4 0-14.5 7.8-12.7 15.9 5 22.3 21 37.1 46.5 37.1s41.5-14.7 46.5-37.1c1.8-8.1-4.4-15.9-12.7-15.9zM412 352.2c-15.4-20.3-45.7-32.2-45.7-123.1 0-93.3-41.2-130.8-79.6-139.8-3.6-.9-6.2-2.1-6.2-5.9v-2.9c0-13.3-10.8-24.6-24-24.6h-.6c-13.2 0-24 11.3-24 24.6v2.9c0 3.7-2.6 5-6.2 5.9-38.5 9.1-79.6 46.5-79.6 139.8 0 90.9-30.3 102.7-45.7 123.1-9.9 13.1-.5 31.8 15.9 31.8h280.1c16.1 0 25.4-18.8 15.6-31.8zm-39 5.8H139.8c-3.8 0-5.8-4.4-3.3-7.3 7-8 14.7-18.5 21-33.4 9.6-22.6 14.3-51.5 14.3-88.2 0-37.3 7-66.5 20.9-86.8 12.4-18.2 27.9-25.1 38.7-27.6 8.4-2 14.4-5.8 18.6-10.5 3.2-3.6 8.7-3.8 11.9-.2 5.1 5.7 12 9.1 18.8 10.7 10.8 2.5 26.3 9.4 38.7 27.6 13.9 20.3 20.9 49.5 20.9 86.8 0 36.7 4.7 65.6 14.3 88.2 6.5 15.2 14.4 25.9 21.5 33.9 2.2 2.7.4 6.8-3.1 6.8z"},child:[]}]})(s)}function V(s){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(s)}function T(s){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432.8 136v96H122.3l84.4-86.2-33.2-33.8L32 256l141.5 144 33.2-33.8-84.4-86.2H480V136h-47.2z"},child:[]}]})(s)}function R(s){return x({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",x2:"9",y1:"12",y2:"12"},child:[]}]})(s)}function U(s){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M16 16V8l-5 4zM9 8v8h2V8z"},child:[]}]})(s)}function L(s){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 22h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2h-2a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1H5c-1.103 0-2 .897-2 2v15c0 1.103.897 2 2 2zM5 5h2v2h10V5h2v15H5V5z"},child:[]},{tag:"path",attr:{d:"m11 13.586-1.793-1.793-1.414 1.414L11 16.414l5.207-5.207-1.414-1.414z"},child:[]}]})(s)}function F({active:s=!1,className:n="",children:h,...l}){return e.jsx(g,{...l,className:`w-full flex items-start  text-[0.9rem]  text-[0.9rem]  font-medium focus:outline-none transition duration-150 ease-in-out ${n}`,children:h})}const _=({user:s,notif:n})=>{const[h,l]=a.useState(!1),[i,f]=a.useState(!1),[c,o]=a.useState(0),d=a.useRef(null),u=a.useRef(null);a.useEffect(()=>{const t=(n==null?void 0:n.filter(r=>!r.read_at).length)||0;o(t)},[n]);const v=async t=>{try{await axios.post(`readta/${t}`),o(r=>Math.max(r-1,0))}catch(r){console.error("Error marking notification as read",r)}};a.useEffect(()=>{const t=r=>{d.current&&!d.current.contains(r.target)&&u.current&&!u.current.contains(r.target)&&(f(!1),l(!1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const m=t=>{t.stopPropagation(),l(r=>!r),f(!1)},b=t=>{t.stopPropagation(),f(r=>!r),l(!1)};return e.jsx("div",{className:"w-[100%] bg-[#fff] shadow-md p-2",children:e.jsx("div",{className:"flex justify-end p-2 nav header",children:e.jsxs("div",{className:"flex space-x-7",children:[e.jsxs("div",{className:"grid place-items-center",children:[e.jsxs("button",{className:"relative",onClick:m,children:[e.jsx(k,{className:`text-[1.5rem] ${c>0,""}`}),c>0&&e.jsx("span",{className:"absolute top-0 w-4 h-4 text-[0.6rem] text-white bg-red-500 border border-white rounded-full right-1 grid place-items-center",children:c})]}),e.jsx("div",{ref:u,className:`fixed top-0 z-30 right-0 border flex justify-end border-gray-300 w-full h-full bg-black/60 transition-all duration-300 ${h?"opacity-100 pointer-events-auto":"opacity-0 delay-300 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-white scrollbar-thumb-sky-700 scrollbar-track-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsx("button",{onClick:m,children:e.jsx(I,{size:16})})]}),e.jsx("div",{className:"h-[30rem] w-[20rem] space-y-3 overflow-y-scroll bg-white scrollbar-thin scrollbar-thumb-sky-700 scrollbar-track-white",children:n==null?void 0:n.map(t=>e.jsxs("a",{onClick:()=>v(t.id),href:t.data.url,className:"flex items-center w-full p-2.5 gap-x-4 hover:bg-gray-100 shadow-md shadow-gray-200 rounded",children:[e.jsx("div",{className:"border border-gray-200 p-1.5 rounded-full",children:e.jsx(L,{size:18,className:"text-green-500"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.data.project}),e.jsx("span",{className:"font-semibold text-blue-500",children:t.data.employee_id}),e.jsx("span",{className:"text-sm text-gray-700",children:t.data.message})]}),!t.read_at&&e.jsx("span",{className:"bg-red-500 w-1.5 h-1.5 rounded-full ml-auto"})]},t.id))}),e.jsx("div",{className:"p-5",children:e.jsxs(g,{href:"/notifications-get",className:"flex items-center justify-center w-full py-2 text-sm text-center text-white bg-blue-500 rounded",children:[e.jsx(k,{className:"text-[1.5rem]"}),e.jsx("span",{children:"See All Notifications"})]})})]})})]}),e.jsxs("div",{className:"flex space-x-2 cursor-pointer",onClick:b,children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(C,{className:"text-[1.5rem]"})}),e.jsx("span",{className:"text-[1rem]",children:s})]}),e.jsx("div",{className:"relative grid place-items-center",children:e.jsx("div",{ref:d,className:`absolute top-full p-4 -right-5 my-5 border border-gray-300 rounded w-[10rem] bg-white shadow-lg transition-all duration-300 shadow-zinc-800/50 ${i?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-14"}`,children:e.jsxs("div",{children:[e.jsxs("li",{className:"p-2 text-black list-none flex space-x-2",children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(M,{})}),e.jsx("span",{children:e.jsx(g,{href:"/profile",children:"Profile"})})]}),e.jsx("li",{className:"p-2 text-black list-none",children:e.jsxs(F,{method:"post",href:route("logout"),as:"button",className:"flex space-x-2",children:[e.jsx("span",{className:"grid mt-1 place-items-center",children:e.jsx(R,{})}),e.jsx("span",{children:"Log Out"})]})})]})})})]})})})};function w(s){return x({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:"currentColor"},child:[]}]})(s)}function p({icon:s,name:n,items:h,permission:l}){const[i,f]=a.useState(!1),[c,o]=a.useState(0),d=a.useRef(null);console.log(l),a.useEffect(()=>{o(i?d.current.scrollHeight:0)},[i]);const u=v=>v.map((m,b)=>e.jsx("li",{children:m.subItems?e.jsx(p,{icon:e.jsx(w,{size:14}),name:m.name,items:m.subItems}):e.jsxs(g,{href:m.link,className:"flex items-center text-sm text-gray-600 gap-x-2",children:[e.jsx(w,{size:14}),e.jsx("span",{children:m.name})]})},b));return e.jsxs("li",{className:"h-full p-2",children:[e.jsxs("button",{type:"button",onClick:()=>f(!i),className:`w-full flex transition-all duration-300 space-x-2 text-sm items-center ${i?"mb-3":"mb-0"}`,children:[s,e.jsx("span",{children:n}),e.jsx(z,{className:`!ml-auto transition-all duration-300 ${i?"-rotate-90":"rotate-0"}`,size:12})]}),e.jsx("ul",{ref:d,className:"pl-5 space-y-2 overflow-hidden transition-all duration-300",style:{maxHeight:`${c}px`,transition:"max-height 0.3s ease"},children:u(h)})]})}const O=({user_type:s,usrrr:n})=>{const[h,l]=a.useState([]),[i,f]=a.useState(!0),{url:c}=y();a.useEffect(()=>{Array.isArray(s)?l(s):console.error("Expected user_type to be an array:",s)},[s]);const o=[{name:"employees",link:"/employees",perm:"view_employee"},{name:"leave management",link:"/leave-index"},{name:"employee setup",link:"/branches"},{name:"attendance",link:"/attendance"},{name:"Salary generate",link:"/salaries"},{name:"payroll",link:"/payroll"}],d=["view_employee","view_leaves","view_attendance"];return o.filter(u=>d.includes(u.permission)),e.jsx("nav",{className:"grid p-5 place-items-center",children:e.jsx("div",{className:i?"modal menu fixed transition delay-700 block duration-700 ease-in shadow-md bg-white w-[17%] justify-end slide-right-to-left left-0 bottom-0 top-0":"modal menu absolute hidden bg-gray-800 w-[10rem] duration-700 ease-in-out delay-700 justify-end bottom-0 top-0",children:e.jsxs("ul",{children:[e.jsx("div",{className:"p-2 logo",children:e.jsx("img",{src:"/SCS-01-removebg-preview.png",alt:"Description",className:"w-[85%]"})}),e.jsx("li",{className:c==="/dashboard"?"active bg-[#0A1B3F] p-2 px-5 text-[0.9rem] text-white":"p-2 text-black text-[0.9rem]",children:e.jsxs(g,{href:"/dashboard",className:"flex items-center space-x-2",children:[" ",e.jsxs("span",{children:[" ",e.jsx(S,{})]})," ",e.jsx("span",{children:"Dashboard"})," "]})}),e.jsx(p,{icon:e.jsx(B,{}),name:"HRMS",items:o}),h.includes("view_role")&&e.jsx("li",{className:c==="/roles-permission-details"?"active bg-[#0A1B3F] p-2 px-5 text-[0.9rem] text-white":"p-2 text-black text-[0.9rem]",children:e.jsxs(g,{href:"/roles-permission-details",className:"flex space-x-2",children:[" ",e.jsxs("span",{children:[" ",e.jsx(N,{})]})," ",e.jsx("span",{children:"Roles"})," "]})}),e.jsx(p,{icon:e.jsx(j,{}),name:"Project Management",items:[{name:"Projects",link:"/projects"},{name:"Timesheet",link:"/daily-status"},{name:"Tasks",link:"/projects-task"},{name:"Task Calendar",link:"/taskcalendar"},{name:"Reports",link:"/reports-get"}]}),e.jsx(p,{icon:e.jsx(j,{}),name:"User Management",items:[{name:"Customer",link:"/clients"}]}),e.jsx(p,{icon:e.jsx(H,{}),name:"Account System",items:[{name:"Purchases",subItems:[{name:"Expense",link:"/amc-expense-index"},{name:"Invoice",link:"/sales"},{name:"Income",link:"/income"}]},{name:"Double Entry",subItems:[{name:"chart of account",link:"chart-accounts"},{name:"Journal Account",link:"/journals"},{name:"Ledger Summery",link:"/finance/budget-management"},{name:"Balance sheet",link:"/finance/budget-management"}]},{name:"Budget ",link:"/bduget"},{name:"Accounting Setup",link:"/tax"}]}),e.jsx(p,{icon:e.jsx(j,{}),name:"CRM",items:[{name:"leads",link:"/lead"},{name:"Deals",link:"/deal"},{name:"Contract",link:"/contract"}]}),e.jsx(p,{icon:e.jsx(j,{}),name:"Invetory Management",items:[{name:"Services",link:"/product-services"}]}),e.jsx("li",{className:c==="/complaint"?"active bg-[#0A1B3F] p-2 px-5 text-[0.9rem] text-white":"p-2 text-black text-[0.9rem]",children:e.jsxs(g,{href:"/complaint",className:"flex space-x-2",children:[" ",e.jsxs("span",{children:[" ",e.jsx(N,{})]})," ",e.jsx("span",{children:"complaint"})," "]})})]})})})};export{U as B,_ as H,T as I,O as N,D as a,V as b,L as c};
